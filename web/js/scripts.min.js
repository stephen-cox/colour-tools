"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),ColourElement=function(){function t(e){_classCallCheck(this,t),this._selector=e,this._element=$(e)}return _createClass(t,[{key:"element",get:function(){return this._element}}]),t}(),ColourSlider=function(t){function e(t,o){_classCallCheck(this,e);var n=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i={min:0,max:100,decimal_places:0,value:null,update:function(t){}};return n.options=$.extend({},i,o),n._range=$("<div />").attr("class",".js-slider-range slider__range"),n.element.append(n._range),n._slide=$("<div />").attr("class",".js-slider-slide slider__slide"),n._range.append(n._slide),n._input=$("<input />").attr("type","text").attr("class",".js-slider-value slider__value"),n.element.append(n._input),null==n.options.value?n.value=n.options.min:n.value=n.options.value,n._range.click(function(t){var e=$(n).parent().offset();n.value=n.calc_value(t.pageY-e.top)}),n._input.change(function(){n.value=parseInt(n._input.val())}),n._slide.udraggable({axis:"y",containment:[-6,-8,70,471],drag:function(t,e){n.value=n.calc_value(e.offset.top+n._slide.outerHeight()/2)},start:function(){e.Dragging=!0},stop:function(){e.Dragging=!1}}),n}return _inherits(e,t),_createClass(e,[{key:"change",value:function(){this.element.trigger("slider-change")}},{key:"set_value",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=t;if("number"!=typeof t)throw new Error("Colour slider value not a number");isNaN(t)?o=this._value:t<this.options.min?o=this.options.min:t>this.options.max&&(o=this.options.max),this.value!==o&&(this._value=o.toFixed(this.options.decimal_places),this._input.val(this.value),this.set_slide(),e&&this.change())}},{key:"calc_value",value:function(t){var e=this.options.max-this.options.min;return this.options.max+this.options.min-e*t/this._range.height()}},{key:"calc_position",value:function(t){var e=this.options.max-this.options.min;return(this.options.max+this.options.min-t)*this._range.height()/e}},{key:"update",value:function(t){"function"==typeof this.options.update&&this.options.update.call(this,t)}},{key:"set_range_colour",value:function(t){this._range.css("background",t)}},{key:"set_slide_colour",value:function(t){this._slide.css("background",t)}},{key:"set_slide",value:function(){var t=this.calc_position(this.value);e.Dragging?this._slide.css({top:t-this._slide.outerHeight()/2}):this._slide.animate({top:t-this._slide.outerHeight()/2})}},{key:"value",get:function(){return this._value},set:function(t){this.set_value(t,!0)}}]),e}(ColourElement);ColourSlider.Dragging=!1;var ColourSwatch=function(t){function e(t,o){_classCallCheck(this,e);var n=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.chroma=o,n}return _inherits(e,t),_createClass(e,[{key:"change",value:function(){this.element.trigger("swatch-change")}},{key:"get",value:function(t){return this._colour.get(t)}},{key:"rgb",value:function(t,e,o){this.chroma=chroma(t,e,o)}},{key:"hsl",value:function(t,e,o){this.chroma=chroma(t,e,o,"hsl")}},{key:"chroma",get:function(){return this._colour},set:function(t){this._colour=t,this.element.css("background-color",this.colour),this.change()}},{key:"colour",get:function(){return this._colour.hex()},set:function(t){this.chroma=chroma(t)}}]),e}(ColourElement),ColourStats=function(t){function e(t){_classCallCheck(this,e);var o=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o._hex=$("<input />").attr("type","text").attr("class",".js-colour-stats-hex stats__hex"),o.element.append(o._hex),o}return _inherits(e,t),e}(ColourElement);$("#colour-palette-tools").length>0&&$(function(){var t=void 0;try{t=chroma(window.location.hash)}catch(e){t=chroma("cyan")}var e=new ColourSwatch(".js-colour-block",t),o=new ColourSlider(".js-slider-hue",{max:360,decimal_places:4,value:t.get("hsl.h"),update:function(t){this.set_value(t.get("hsl.h"),!1),this.set_slide_colour(t.hex());for(var e=chroma(t.hex()),o="linear-gradient(0deg",n=0;n<=361;n+=1)o+=" , "+e.set("hsl.h",n).hex();o+=")",this.set_range_colour(o)}}),n=new ColourSlider(".js-slider-saturation",{value:100*t.get("hsl.s"),decimal_places:4,update:function(t){this.set_value(100*t.get("hsl.s"),!1),this.set_slide_colour(t.hex());var e=chroma(t.hex());this.set_range_colour("linear-gradient(180deg, "+e.set("hsl.s",1).hex()+", "+e.set("hsl.s",0).hex()+")")}}),i=new ColourSlider(".js-slider-luminosity",{value:100*t.get("hsl.l"),decimal_places:4,update:function(t){this.set_value(100*t.get("hsl.l"),!1),this.set_slide_colour(t.hex());var e=t.get("hsl.h"),o=100*t.get("hsl.s");100*t.get("hsl.l");this.set_range_colour("linear-gradient(180deg, hsl("+e+", "+o+"%, 100%), hsl("+e+", "+o+"%, 50%), hsl("+e+", "+o+"%, 0%))")}}),a=new ColourSlider(".js-slider-red",{max:255,value:t.get("rgb.r"),update:function(t){this.set_value(parseInt(t.get("rgb.r")),!1),this.set_slide_colour(t.hex());var e=chroma(t.hex());this.set_range_colour("linear-gradient(180deg, "+e.set("rgb.r",255).hex()+", "+e.set("rgb.r",0).hex()+")")}}),s=new ColourSlider(".js-slider-green",{max:255,value:t.get("rgb.g"),update:function(t){this.set_value(parseInt(t.get("rgb.g")),!1),this.set_slide_colour(t.hex());var e=chroma(t.hex());this.set_range_colour("linear-gradient(180deg, "+e.set("rgb.g",255).hex()+", "+e.set("rgb.g",0).hex()+")")}}),r=new ColourSlider(".js-slider-blue",{max:255,value:t.get("rgb.b"),update:function(t){this.set_value(parseInt(t.get("rgb.b")),!1),this.set_slide_colour(t.hex());var e=chroma(t.hex());this.set_range_colour("linear-gradient(180deg, "+e.set("rgb.b",255).hex()+", "+e.set("rgb.b",0).hex()+")")}}),l=new ColourStats(".js-colour-stats");e.element.on("swatch-change",function(){o.update(e.chroma),n.update(e.chroma),i.update(e.chroma),a.update(e.chroma),s.update(e.chroma),r.update(e.chroma),l.value=e.chroma}),e.change(),o.element.on("slider-change",function(){e.hsl(o.value,n.value/100,i.value/100)}),n.element.on("slider-change",function(){e.hsl(o.value,n.value/100,i.value/100)}),i.element.on("slider-change",function(){e.hsl(o.value,n.value/100,i.value/100)}),a.element.on("slider-change",function(){e.rgb(a.value,s.value,r.value)}),s.element.on("slider-change",function(){e.rgb(a.value,s.value,r.value)}),r.element.on("slider-change",function(){e.rgb(a.value,s.value,r.value)})}),function(t){var e,o,n,i,a,s,r,l,u,h,c,d,_,p,m,g,f,v=t.event.special,x={},b=!1,y=-1,w="ue_bound",C=!1,k={bound_ns_map:{},px_radius:10,ignore_select:"textarea, select, input",max_tap_ms:200,min_held_ms:300},S=[],P=1,$=4;l=function(t){var e,o=0;for(e=this.length;e;0)this[--e]===t&&o++;return o},u=function(t){var e,o=0;for(e=this.length;e;0)this[--e]===t&&(this.splice(e,1),o++,e++);return o},h=function(t){return!l.call(this,t)&&(this.push(t),!0)},c=function(e){if(e&&t.isArray(e)){if(e.remove_val)return e}else e=[];return e.remove_val=u,e.match_val=l,e.push_uniq=h,e},e=c(),o={setup:function(o,n,i){var a,s,r,l,u,h=this,d=t(h),_={};if(!t.data(this,w)){for(a={},t.extend(!0,a,k),t.data(h,w,a),u=c(n.slice(0)),u.length&&""!==u[0]||(u=["000"]),s=0;s<u.length;s++)r=u[s],r&&(_.hasOwnProperty(r)||(_[r]=!0,l=".__ue"+r,d.on("mousedown"+l,g),d.on("touchstart"+l,f)));e.push_uniq(h),b||(t(document).on("mousemove.__ue",g),t(document).on("touchmove.__ue",f),t(document).on("mouseup.__ue",g),t(document).on("touchend.__ue",f),t(document).on("touchcancel.__ue",f),b=!0)}},add:function(e){var o,n,i,a,s=this,r=t.data(s,w),l=e.namespace,u=e.type;if(r&&(o=r.bound_ns_map,o[u]||(o[u]={}),l))for(n=l.split("."),i=0;i<n.length;i++)a=n[i],o[u][a]=!0},remove:function(e){var o,n,i,a=this,s=t.data(a,w),r=s.bound_ns_map,l=e.type,u=e.namespace;if(r[l]){if(!u)return void delete r[l];for(o=u.split("."),n=0;n<o.length;n++)i=o[n],r[l][i]&&delete r[l][i];t.isEmptyObject(r[l])&&delete r[l]}},teardown:function(o){var n,i,a,s,r=this,l=t(r),u=t.data(r,w),h=u.bound_ns_map;if(t.isEmptyObject(h)){for(s=c(o),s.push_uniq("000"),n=0;n<s.length;n++)i=s[n],i&&(a=".__ue"+i,l.off("mousedown"+a),l.off("touchstart"+a),l.off("mousewheel"+a));t.removeData(r,w),e.remove_val(this),0===e.length&&(t(document).off("mousemove.__ue"),t(document).off("touchmove.__ue"),t(document).off("mouseup.__ue"),t(document).off("touchend.__ue"),t(document).off("touchcancel.__ue"),b=!1)}}},d=function(e){var o,n=+new Date,a=e.motion_id,s=e.motion_map,r=e.bound_ns_map;delete s.tapheld_toid,s.do_allow_held&&(s.px_end_x=s.px_start_x,s.px_end_y=s.px_start_y,s.ms_timestop=n,s.ms_elapsed=n-s.ms_timestart,r.uheld&&(o=t.Event("uheld"),t.extend(o,s),t(s.elem_bound).trigger(o)),r.uheldstart?(o=t.Event("uheldstart"),t.extend(o,s),t(s.elem_bound).trigger(o),i=a):delete x[a])},_=function(e){var o,n,i,l=e.motion_id,u=e.event_src,h=e.request_dzoom,c=t.data(e.elem,w),_=c.bound_ns_map,p=t(u.target),m=!1;if(!x[l]&&(!h||_.uzoomstart)&&!p.is(c.ignore_select)){for(u.preventDefault(),n=S.pop();n;)p.is(n.selector_str)||t(e.elem).is(n.selector_str)?n.callback_match&&n.callback_match(e):n.callback_nomatch&&n.callback_nomatch(e),n=S.pop();return o={do_allow_tap:!!_.utap,do_allow_held:!(!_.uheld&&!_.uheldstart),elem_bound:e.elem,elem_target:u.target,ms_elapsed:0,ms_timestart:u.timeStamp,ms_timestop:void 0,option_map:c,orig_target:u.target,px_current_x:u.clientX,px_current_y:u.clientY,px_end_x:void 0,px_end_y:void 0,px_start_x:u.clientX,px_start_y:u.clientY,timeStamp:u.timeStamp},x[l]=o,_.uzoomstart&&(h?a=l:s?r||(r=l,i=t.Event("uzoomstart"),m=!0):s=l,m)?(i=t.Event("uzoomstart"),o.px_delta_zoom=0,t.extend(i,o),void t(o.elem_bound).trigger(i)):void((_.uheld||_.uheldstart)&&(o.tapheld_toid=setTimeout(function(){d({motion_id:l,motion_map:o,bound_ns_map:_})},c.min_held_ms)))}},p=function(e){var o,l,u,h,c,d,_,p,m,g=e.motion_id,f=e.event_src,v=!1;if(x[g])return f.preventDefault(),o=x[g],l=o.option_map,u=l.bound_ns_map,o.timeStamp=f.timeStamp,o.elem_target=f.target,o.ms_elapsed=f.timeStamp-o.ms_timestart,o.px_delta_x=f.clientX-o.px_current_x,o.px_delta_y=f.clientY-o.px_current_y,o.px_current_x=f.clientX,o.px_current_y=f.clientY,o.px_tdelta_x=o.px_start_x-f.clientX,o.px_tdelta_y=o.px_start_y-f.clientY,h=Math.abs(o.px_tdelta_x)>l.px_radius||Math.abs(o.px_tdelta_y)>l.px_radius,o.timeStamp=f.timeStamp,h&&(o.do_allow_tap=!1,o.do_allow_held=!1),o.ms_elapsed>l.max_tap_ms&&(o.do_allow_tap=!1),s&&r&&(g===s||g===r)?(x[g]=o,p=x[s],m=x[r],d=Math.floor(Math.sqrt(Math.pow(p.px_current_x-m.px_current_x,2)+Math.pow(p.px_current_y-m.px_current_y,2))+.5),_=y===-1?0:(d-y)*$,y=d,v=!0):a===g&&u.uzoommove&&(_=o.px_delta_y*P,v=!0),v?(c=t.Event("uzoommove"),o.px_delta_zoom=_,t.extend(c,o),void t(o.elem_bound).trigger(c)):i===g?void(u.uheldmove&&(c=t.Event("uheldmove"),t.extend(c,o),t(o.elem_bound).trigger(c))):n===g?void(u.udragmove&&(c=t.Event("udragmove"),t.extend(c,o),t(o.elem_bound).trigger(c))):void(!u.udragstart||o.do_allow_tap!==!1||o.do_allow_held!==!1||n&&i||(n=g,c=t.Event("udragstart"),t.extend(c,o),t(o.elem_bound).trigger(c),o.tapheld_toid&&(clearTimeout(o.tapheld_toid),delete o.tapheld_toid)))},m=function(e){var o,l,u,h,c=e.motion_id,d=e.event_src,_=!1;C=!1,x[c]&&(o=x[c],l=o.option_map,u=l.bound_ns_map,o.elem_target=d.target,o.ms_elapsed=d.timeStamp-o.ms_timestart,o.ms_timestop=d.timeStamp,o.px_current_x&&(o.px_delta_x=d.clientX-o.px_current_x,o.px_delta_y=d.clientY-o.px_current_y),o.px_current_x=d.clientX,o.px_current_y=d.clientY,o.px_end_x=d.clientX,o.px_end_y=d.clientY,o.px_tdelta_x=o.px_start_x-o.px_end_x,o.px_tdelta_y=o.px_start_y-o.px_end_y,o.timeStamp=d.timeStamp,o.tapheld_toid&&(clearTimeout(o.tapheld_toid),delete o.tapheld_toid),u.utap&&o.ms_elapsed<=l.max_tap_ms&&o.do_allow_tap&&(h=t.Event("utap"),t.extend(h,o),t(o.elem_bound).trigger(h)),c===n&&(u.udragend&&(h=t.Event("udragend"),t.extend(h,o),t(o.elem_bound).trigger(h)),n=void 0),c===i&&(u.uheldend&&(h=t.Event("uheldend"),t.extend(h,o),t(o.elem_bound).trigger(h)),i=void 0),c===a?(_=!0,a=void 0):c===s&&(r?(s=r,r=void 0,_=!0):s=void 0,y=-1),c===r&&(r=void 0,y=-1,_=!0),_&&u.uzoomend&&(h=t.Event("uzoomend"),o.px_delta_zoom=0,t.extend(h,o),t(o.elem_bound).trigger(h)),delete x[c])},f=function(t){var e,o,n,i,a=this,s=+new Date,r=t.originalEvent,l=r?r.changedTouches||[]:[],u=l.length;switch(C=!0,t.timeStamp=s,t.type){case"touchstart":i=_;break;case"touchmove":i=p;break;case"touchend":case"touchcancel":i=m;break;default:i=null}if(i)for(e=0;e<u;e++)o=l[e],n="touch"+String(o.identifier),t.clientX=o.clientX,t.clientY=o.clientY,i({elem:a,motion_id:n,event_src:t})},g=function(t){var e,o=this,n="mouse"+String(t.button),i=!1;if(C)return void t.stopImmediatePropagation();if(t.shiftKey&&(i=!0),"mousemove"!==t.type&&0!==t.button)return!0;switch(t.type){case"mousedown":e=_;break;case"mouseup":e=m;break;case"mousemove":e=p;break;default:e=null}e&&e({elem:o,event_src:t,request_dzoom:i,motion_id:n})},v.ue=v.utap=v.uheld=v.uzoomstart=v.uzoommove=v.uzoomend=v.udragstart=v.udragmove=v.udragend=v.uheldstart=v.uheldmove=v.uheldend=o,t.ueSetGlobalCb=function(t,e,o){S.push({selector_str:t||"",callback_match:e||null,callback_nomatch:o||null})}}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){var e=Math.floor,o=Math.min,n=Math.max;window.requestAnimationFrame=window.requestAnimationFrame||function(t){return setTimeout(t,10)},window.cancelAnimationFrame=window.cancelAnimationFrame||function(t){return clearTimeout(t)};var i=function(e,o){var n=this;this.el=e,this.$el=t(e),this.options=t.extend({},t.fn.udraggable.defaults,o),this.positionElement=this.options.positionElement||this.positionElement,this.getStartPosition=this.options.getStartPosition||this.getStartPosition,this.normalisePosition=this.options.normalisePosition||this.normalisePosition,this.updatePositionFrameHandler=function(){delete n.queuedUpdate;var t=n.ui.position;n.positionElement(n.$el,n.started,t.left,t.top),n.options.dragUpdate&&n.options.dragUpdate.apply(n.el,[n.ui])},this.queuePositionUpdate=function(){n.queuedUpdate||(n.queuedUpdate=window.requestAnimationFrame(n.updatePositionFrameHandler))},this.init()};i.prototype={constructor:i,init:function(){var t=this;this.disabled=!1,this.started=!1,this.normalisePosition();var e=this.options.handle?this.$el.find(this.options.handle):this.$el;this.options.longPress?e.on("uheldstart.udraggable",function(e){t.start(e)}).on("uheldmove.udraggable",function(e){t.move(e)}).on("uheldend.udraggable",function(e){t.end(e)}):e.on("udragstart.udraggable",function(e){t.start(e)}).on("udragmove.udraggable",function(e){t.move(e)}).on("udragend.udraggable",function(e){t.end(e)})},destroy:function(){var t=this.options.handle?this.$el.find(this.options.handle):this.$el;t.off(".udraggable"),this.$el.removeData("udraggable")},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},option:function(){var t;if(0===arguments.length)return this.options;if(2===arguments.length)return void(this.options[arguments[0]]=arguments[1]);if(1===arguments.length){if("string"==typeof arguments[0])return this.options[arguments[0]];if("object"===_typeof(arguments[0]))for(t in arguments[0])arguments[0].hasOwnProperty(t)&&(this.options[t]=arguments[0][t])}this.options.containment&&this._initContainment()},normalisePosition:function(){var t=this.$el.position();this.$el.css({position:"absolute",top:t.top,left:t.left,right:"auto",bottom:"auto"})},start:function t(e){if(!this.disabled){var t=this.getStartPosition(this.$el);return this._initContainment(),this.ui={helper:this.$el,offset:{top:t.y,left:t.x},originalPosition:{top:t.y,left:t.x},position:{top:t.y,left:t.x}},this.options.longPress&&this._start(e),this._stopPropagation(e)}},move:function(t){if(!this.disabled&&(this.started||this._start(t))){var e=t.px_current_x-t.px_start_x,o=t.px_current_y-t.px_start_y,n=this.options.axis;n&&"x"===n&&(o=0),n&&"y"===n&&(e=0);var i={left:this.ui.originalPosition.left,top:this.ui.originalPosition.top};n&&"x"!==n||(i.left+=e),n&&"y"!==n||(i.top+=o),this._applyGrid(i),this._applyContainment(i);var a=this.ui.position;return i.top===a.top&&i.left===a.left||(this.ui.position.left=i.left,this.ui.position.top=i.top,this.ui.offset.left=i.left,this.ui.offset.top=i.top,this.options.drag&&this.options.drag.apply(this.el,[t,this.ui]),this.queuePositionUpdate()),this._stopPropagation(t)}},end:function(t){return(this.started||this._start(t))&&(this.$el.removeClass("udraggable-dragging"),this.started=!1,this.queuedUpdate&&window.cancelAnimationFrame(this.queuedUpdate),this.updatePositionFrameHandler(),this.options.stop&&this.options.stop.apply(this.el,[t,this.ui])),this._stopPropagation(t)},_stopPropagation:function(t){return t.stopPropagation(),t.preventDefault(),!1},_start:function(t){if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t))return this.started=!0,this.queuePositionUpdate(),this.options.start&&this.options.start.apply(this.el,[t,this.ui]),this.$el.addClass("udraggable-dragging"),!0},_mouseDistanceMet:function(t){return n(Math.abs(t.px_start_x-t.px_current_x),Math.abs(t.px_start_y-t.px_current_y))>=this.options.distance},_mouseDelayMet:function(t){return t.ms_elapsed>this.options.delay},_initContainment:function(){var e,o,n=this.options;return n.containment?n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.$el.offsetParent()),e=t(n.containment),o=e[0],void(o&&(this.containment=[0,0,e.innerWidth()-this.$el.outerWidth(),e.innerHeight()-this.$el.outerHeight()]))):void(this.containment=null)},_applyGrid:function(t){if(this.options.grid){var o=this.options.grid[0],n=this.options.grid[1];t.left=e((t.left+o/2)/o)*o,t.top=e((t.top+n/2)/n)*n}},_applyContainment:function(t){var e=this.containment;e&&(t.left=o(n(t.left,e[0]),e[2]),t.top=o(n(t.top,e[1]),e[3]))},getStartPosition:function(t){return{x:parseInt(t.css("left"),10)||0,y:parseInt(t.css("top"),10)||0}},positionElement:function(t,e,o,n){t.css({left:o,top:n})}},t.fn.udraggable=function(e){var o=Array.prototype.slice.call(arguments,1),n=[];return this.each(function(){var a=t(this),s=a.data("udraggable");if(s||(s=new i(this,e),a.data("udraggable",s)),"string"==typeof e){if("function"!=typeof s[e])throw"jquery.udraggable has no '"+e+"' method";var r=s[e].apply(s,o);void 0!==r&&n.push(r)}}),n.length>0?n[0]:this},t.fn.udraggable.defaults={axis:null,delay:0,distance:0,longPress:!1,drag:null,start:null,stop:null}}(jQuery),$("#named-colours").length>0&&$(function(){var t,e,o,n,i,a,s=$("table"),r=["name","hex","rgb.r","rgb.g","rgb.b","temperature","hsl.h","hsl.s","hsl.l","hsv.h","hsv.s","hsv.v","cmyk.c","cmyk.m","cmyk.y","cmyk.k"],l="name";window.location.hash&&(l=window.location.hash.replace("#",""),r.indexOf(l)==-1&&(l="name"));var u=[];for(t in chroma.colors)u.push(chroma(t));u.sort(function(t,e){return t.get(l)>e.get(l)?1:t.get(l)<e.get(l)?-1:0});for(t in u){e=u[t],o=$("<tr/>").appendTo(s.find("tbody:last")),o.addClass("colour-table__row"),n=$("<td/>").text(" "),n.addClass("colour-table__colour"),n.css("background-color",e.name()),o.append(n);for(a in r)i=e.get(r[a]),"number"==typeof i&&"temperature"!=r[a]&&(i=i.toPrecision(3)),n=$("<td/>").text(i),n.addClass("colour-table__"+r[a]),o.append(n)}});