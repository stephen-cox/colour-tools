{"version":3,"sources":["colour-palette-tools.js","colour.js","jquery.event.ue.js","jquery.udraggable.js","named-colours.js"],"names":["ColourElement","selector","_classCallCheck","this","_selector","_element","$","element","trigger","ColourSlider","options","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","defaults","min","max","decimal_places","value","update","colour","extend","_range","attr","append","_slide","_input","click","e","offset","parent","calc_value","pageY","top","change","parseInt","val","udraggable","axis","containment","drag","ui","outerHeight","start","Dragging","stop","trigger_events","arguments","length","undefined","Error","isNaN","_value","toFixed","set_slide","position","range","height","colour_string","css","calc_position","animate","set_value","ColourSwatch","_this2","chroma","property","_colour","get","r","g","b","h","s","l","hex","ColourStats","_this3","_hex","_hsl_h","_hsl_s","_hsl_l","_hsl_css","_rgb_r","_rgb_g","_rgb_b","_rgb_css","set_colour","html","window","location","hash","err","colour_block","hue","color","set_slide_colour","c","gradient","i","set","set_range_colour","saturation","luminosity","red","green","blue","stats","on","hsl","rgb","Colour","_h","_s","_l","_r","_g","_b","_len","args","Array","_key","is_rgb","is_hue","is_saturation","is_luminosity","TypeError","RangeError","boundList","Ue","motionDragId","motionHeldId","motionDzoomId","motion1ZoomId","motion2ZoomId","checkMatchVal","removeListVal","pushUniqVal","makeListPlus","fnHeld","fnMotionStart","fnMotionMove","fnMotionEnd","onMouse","onTouch","$Special","event","special","motionMapMap","isMoveBound","pxPinchZoom","optionKey","doDisableMouse","defaultOptMap","bound_ns_map","px_radius","ignore_select","max_tap_ms","min_held_ms","callbackList","zoomMouseNum","zoomTouchNum","data","idx","match_count","removed_count","splice","push","input_list","isArray","remove_val","match_val","push_uniq","setup","name_list","bind_fn","option_map","namespace_key","ue_namespace_code","namespace_list","this_el","$to_bind","seen_map","slice","hasOwnProperty","document","add","arg_map","namespace_str","namespace","event_type","type","split","remove","elem_bound","isEmptyObject","teardown","$bound","off","removeData","event_ue","timestamp","Date","motion_id","motion_map","tapheld_toid","do_allow_held","px_end_x","px_start_x","px_end_y","px_start_y","ms_timestop","ms_elapsed","ms_timestart","uheld","Event","uheldstart","cb_map","event_src","request_dzoom","elem","$target","target","do_zoomstart","uzoomstart","is","preventDefault","pop","selector_str","callback_match","callback_nomatch","do_allow_tap","utap","elem_target","timeStamp","orig_target","px_current_x","clientX","px_current_y","clientY","px_delta_zoom","setTimeout","is_over_rad","px_pinch_zoom","mzoom1_map","mzoom2_map","do_zoommove","px_delta_x","px_delta_y","px_tdelta_x","px_tdelta_y","Math","abs","floor","sqrt","pow","uzoommove","uheldmove","udragmove","udragstart","clearTimeout","do_zoomend","udragend","uheldend","uzoomend","touch_event","handler_fn","o_event","originalEvent","touch_list","changedTouches","touch_count","String","identifier","button","stopImmediatePropagation","shiftKey","ue","ueSetGlobalCb","jQuery","requestAnimationFrame","work","cancelAnimationFrame","id","UDraggable","el","that","$el","fn","positionElement","getStartPosition","normalisePosition","updatePositionFrameHandler","queuedUpdate","pos","started","left","dragUpdate","apply","queuePositionUpdate","init","prototype","constructor","disabled","handle","find","longPress","move","end","destroy","disable","enable","option","name","_typeof","_initContainment","right","bottom","helper","y","x","originalPosition","_start","_stopPropagation","delta_x","delta_y","cur","_applyGrid","_applyContainment","removeClass","stopPropagation","_mouseDistanceMet","_mouseDelayMet","addClass","distance","delay","$c","ce","o","offsetParent","innerWidth","outerWidth","innerHeight","grid","gx","gy","cont","dragging","results","each","$this","result","row","cell","text","table","properties","sort","replace","indexOf","colours","colors","a","appendTo","toPrecision"],"mappings":"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","file":"scripts.min.js","sourcesContent":["/**\n * Colour palette tools\n */\n\n/* global chroma */\n\n/**\n * ColourElement class\n */\nclass ColourElement {\n\n  constructor(selector) {\n    this._selector = selector;\n    this._element = $(selector);\n  }\n\n  /**\n   * Fire change event\n   */\n  change() {\n    this.element.trigger('element-change');\n  }\n\n  /**\n   * Get the element\n   */\n  get element() {\n    return this._element;\n  }\n}\n\n\n/**\n * ColourSlider class\n */\nclass ColourSlider extends ColourElement {\n\n  constructor(selector, options) {\n    super(selector);\n\n    // Set options\n    const defaults = {\n      min: 0,\n      max: 100,\n      decimal_places: 0,\n      value: null,\n      update(colour) { },\n    };\n    this.options = $.extend({}, defaults, options);\n\n    // Set slider elements\n    this._range = $('<div />')\n      .attr('class', '.js-slider-range slider__range');\n    this.element.append(this._range);\n    this._slide = $('<div />')\n        .attr('class', '.js-slider-slide slider__slide');\n    this._range.append(this._slide);\n    this._input = $('<input />')\n        .attr('type', 'text')\n        .attr('class', '.js-slider-value slider__value');\n    this.element.append(this._input);\n\n    // Set the slider value\n    if (this.options.value == null) {\n      this.value = this.options.min;\n    } else {\n      this.value = this.options.value;\n    }\n\n    // Add events\n    this._range.click((e) => {\n      const offset = this._range.parent().offset();\n      this.value = this.calc_value(e.pageY - offset.top);\n    });\n    this._input.change(() => {\n      this.value = parseInt(this._input.val());\n    });\n\n    // Add dragging\n    this._slide.udraggable({\n      axis: 'y',\n      containment: [-6, -8, 70, 472],\n      drag: (e, ui) => {\n        this.value = this.calc_value(ui.offset.top + (this._slide.outerHeight() / 2));\n      },\n      start: () => {\n        ColourSlider.Dragging = true;\n      },\n      stop: () => {\n        ColourSlider.Dragging = false;\n      },\n    });\n  }\n\n  /**\n   * Fire change event\n   */\n  change() {\n    this.element.trigger('slider-change');\n  }\n\n  /**\n   * Get slider value\n   */\n  get value() {\n    return this._value;\n  }\n\n  /**\n   * Set slider value and trigger change events\n   */\n  set value(value) {\n    this.set_value(value, true);\n  }\n\n  /**\n   * Set slider value\n   */\n  set_value(value, trigger_events = true) {\n    let val = value;\n\n    if (typeof value === 'number') {\n      if (isNaN(value)) {\n        val = this._value;\n      } else if (value < this.options.min) {\n        val = this.options.min;\n      } else if (value > this.options.max) {\n        val = this.options.max;\n      }\n\n      if (this.value !== val) {\n        this._value = val.toFixed(this.options.decimal_places);\n        this._input.val(this.value);\n        this.set_slide();\n        if (trigger_events) {\n          this.change();\n        }\n      }\n    } else {\n      throw new Error('Colour slider value not a number');\n    }\n  }\n\n  /**\n   * Calculate value\n   */\n  calc_value(position) {\n    const range = this.options.max - this.options.min;\n    return this.options.max + this.options.min - (range * position / this._range.height());\n  }\n\n  /**\n   * Calculate position\n   */\n  calc_position(value) {\n    const range = this.options.max - this.options.min;\n    return (this.options.max + this.options.min - value) * this._range.height() / range;\n  }\n\n  /**\n   * Update the slider\n   */\n  update(colour) {\n    if (typeof this.options.update === 'function') {\n      this.options.update.call(this, colour);\n    }\n  }\n\n  /**\n   * Set range colour\n   */\n  set_range_colour(colour_string) {\n    this._range.css('background', colour_string);\n  }\n\n  /**\n   * Set slide colours\n   */\n  set_slide_colour(colour_string) {\n    this._slide.css('background', colour_string);\n  }\n\n  /**\n   * Set the slide position\n   */\n  set_slide() {\n    const position = this.calc_position(this.value);\n    if (ColourSlider.Dragging) {\n      this._slide.css({ top: position - this._slide.outerHeight() / 2 });\n    } else {\n      this._slide.animate({ top: position - this._slide.outerHeight() / 2 });\n    }\n  }\n}\n\n/**\n * ColourSlider Dragging class variable\n */\nColourSlider.Dragging = false;\n\n/**\n * ColourSwatch class\n */\nclass ColourSwatch extends ColourElement {\n\n  constructor(selector, colour) {\n    super(selector);\n    this.chroma = colour;\n  }\n\n  /**\n   * Fire change event\n   */\n  change() {\n    this.element.trigger('swatch-change');\n  }\n\n  /**\n   * Return the chroma colour\n   */\n  get chroma() {\n    return this._colour;\n  }\n\n  /**\n   * Set the chroma colour\n   */\n  set chroma(colour) {\n    this._colour = colour;\n    this.element.css('background-color', this.colour);\n    this.change();\n  }\n\n  /**\n   * Return the chroma colour in hex\n   */\n  get colour() {\n    return this._colour.hex();\n  }\n\n  /**\n   * Set the colour from string\n   */\n  set colour(colour) {\n    this.chroma = chroma(colour);\n  }\n\n  /**\n   * Return the colour property given by chroma\n   */\n  get(property) {\n    return this._colour.get(property);\n  }\n\n  /**\n   * Set the swatch colour from RGB channels\n   */\n  rgb(r, g, b) {\n    this.chroma = chroma(r, g, b);\n  }\n\n  /**\n   * Set the swatch colour from HSL\n   */\n  hsl(h, s, l) {\n    this.chroma = chroma(h, s, l, 'hsl');\n  }\n}\n\n/**\n * ColourStats class\n */\nclass ColourStats extends ColourElement {\n\n  constructor(selector, colour) {\n    super(selector);\n    this._colour = null;\n\n    // Add stats elements\n    this._hex = $('.js-colour-stats-hex');\n    this._hsl_h = $('.js-colour-stats-hsl-h');\n    this._hsl_s = $('.js-colour-stats-hsl-s');\n    this._hsl_l = $('.js-colour-stats-hsl-l');\n    this._hsl_css = $('.js-colour-stats-hsl-css');\n    this._rgb_r = $('.js-colour-stats-rgb-r');\n    this._rgb_g = $('.js-colour-stats-rgb-g');\n    this._rgb_b = $('.js-colour-stats-rgb-b');\n    this._rgb_css = $('.js-colour-stats-rgb-css');\n\n    // Set the colour\n    this.set_colour(colour, false);\n  }\n\n  /**\n   * Fire change event\n   */\n  change() {\n    this.element.trigger('stats-change');\n  }\n\n  /**\n   * Get colour\n   */\n  get colour() {\n    return this._colour;\n  }\n\n  /**\n   * Set colour and trigger change event\n   */\n  set colour(colour) {\n    this.set_colour(colour, true);\n  }\n\n  /**\n   * Set colour\n   */\n  set_colour(colour, trigger_events) {\n    if (this.colour === null || this.colour.hex() !== colour.hex()) {\n      this._colour = colour;\n      this._hex.val(this.colour.hex());\n      this._hsl_h.val(this.colour.get('hsl.h'));\n      this._hsl_s.val(this.colour.get('hsl.s'));\n      this._hsl_l.val(this.colour.get('hsl.l'));\n      this._hsl_css.html(this.colour.css('hsl'));\n      this._rgb_r.val(this.colour.get('rgb.r'));\n      this._rgb_g.val(this.colour.get('rgb.g'));\n      this._rgb_b.val(this.colour.get('rgb.b'));\n      this._rgb_css.html(this.colour.css());\n      if (trigger_events) {\n        this.change();\n      }\n    }\n  }\n}\n\n\n/**\n * Main colour palette routine\n */\nif ($('#colour-palette-tools').length > 0) {\n  $(() => {\n    let colour;\n    try {\n      colour = chroma(window.location.hash);\n    } catch (err) {\n      colour = chroma('cyan');\n    }\n\n    const colour_block = new ColourSwatch('.js-colour-block', colour);\n    const hue = new ColourSlider('.js-slider-hue', {\n      max: 360,\n      decimal_places: 4,\n      value: colour.get('hsl.h'),\n      update(color) {\n        this.set_value(color.get('hsl.h'), false);\n        this.set_slide_colour(color.hex());\n        const c = chroma(color.hex());\n        let gradient = 'linear-gradient(0deg';\n        for (let i = 0; i <= 361; i += 1) {\n          gradient += ` , ${c.set('hsl.h', i).hex()}`;\n        }\n        gradient += ')';\n        this.set_range_colour(gradient);\n      },\n    });\n    const saturation = new ColourSlider('.js-slider-saturation', {\n      value: 100 * colour.get('hsl.s'),\n      decimal_places: 4,\n      update(color) {\n        this.set_value(100 * color.get('hsl.s'), false);\n        this.set_slide_colour(color.hex());\n        const c = chroma(color.hex());\n        this.set_range_colour(`linear-gradient(180deg, ${c.set('hsl.s', 1).hex()}, ${c.set('hsl.s', 0).hex()})`);\n      },\n    });\n    const luminosity = new ColourSlider('.js-slider-luminosity', {\n      value: 100 * colour.get('hsl.l'),\n      decimal_places: 4,\n      update(color) {\n        this.set_value(100 * color.get('hsl.l'), false);\n        this.set_slide_colour(color.hex());\n        const h = color.get('hsl.h');\n        const s = 100 * color.get('hsl.s');\n        const l = 100 * color.get('hsl.l');\n        this.set_range_colour(`linear-gradient(180deg, hsl(${h}, ${s}%, 100%), hsl(${h}, ${s}%, 50%), hsl(${h}, ${s}%, 0%))`);\n      },\n    });\n    const red = new ColourSlider('.js-slider-red', {\n      max: 255,\n      value: colour.get('rgb.r'),\n      update(color) {\n        this.set_value(parseInt(color.get('rgb.r')), false);\n        this.set_slide_colour(color.hex());\n        const c = chroma(color.hex());\n        this.set_range_colour(`linear-gradient(180deg, ${c.set('rgb.r', 255).hex()}, ${c.set('rgb.r', 0).hex()})`);\n      },\n    });\n    const green = new ColourSlider('.js-slider-green', {\n      max: 255,\n      value: colour.get('rgb.g'),\n      update(color) {\n        this.set_value(parseInt(color.get('rgb.g')), false);\n        this.set_slide_colour(color.hex());\n        const c = chroma(color.hex());\n        this.set_range_colour(`linear-gradient(180deg, ${c.set('rgb.g', 255).hex()}, ${c.set('rgb.g', 0).hex()})`);\n      },\n    });\n    const blue = new ColourSlider('.js-slider-blue', {\n      max: 255,\n      value: colour.get('rgb.b'),\n      update(color) {\n        this.set_value(parseInt(color.get('rgb.b')), false);\n        this.set_slide_colour(color.hex());\n        const c = chroma(color.hex());\n        this.set_range_colour(`linear-gradient(180deg, ${c.set('rgb.b', 255).hex()}, ${c.set('rgb.b', 0).hex()})`);\n      },\n    });\n    const stats = new ColourStats('.js-colour-stats', colour);\n\n    // Bind swatch-change event\n    colour_block.element.on('swatch-change', () => {\n      hue.update(colour_block.chroma);\n      saturation.update(colour_block.chroma);\n      luminosity.update(colour_block.chroma);\n      red.update(colour_block.chroma);\n      green.update(colour_block.chroma);\n      blue.update(colour_block.chroma);\n      stats.colour = colour_block.chroma;\n    });\n    colour_block.change();\n\n    // Bind slider-change events\n    hue.element.on('slider-change', () => {\n      colour_block.hsl(hue.value, saturation.value / 100, luminosity.value / 100);\n    });\n    saturation.element.on('slider-change', () => {\n      colour_block.hsl(hue.value, saturation.value / 100, luminosity.value / 100);\n    });\n    luminosity.element.on('slider-change', () => {\n      colour_block.hsl(hue.value, saturation.value / 100, luminosity.value / 100);\n    });\n    red.element.on('slider-change', () => {\n      colour_block.rgb(red.value, green.value, blue.value);\n    });\n    green.element.on('slider-change', () => {\n      colour_block.rgb(red.value, green.value, blue.value);\n    });\n    blue.element.on('slider-change', () => {\n      colour_block.rgb(red.value, green.value, blue.value);\n    });\n  });\n}","/**\n * Colour class\n */\nclass Colour {\n\n  /**\n   * Colour class constructor\n   *\n   * Create a Colour class object with the colour determined by the number of args\n   *  - no args an empty colour is created\n   *  - 1 arg supplied, colour assumed to be a string hex code\n   *  - 3 args supplied, a guess is made to determine whether RGB or HSL\n   *  - a 4th arg of 'rgb' or 'hsl' can be supplied\n   */\n  constructor(...args) {\n    // HSL colour values\n    this._h = 0;\n    this._s = 0;\n    this._l = 0;\n\n    // RGB colour values\n    this._r = 0;\n    this._g = 0;\n    this._b = 0;\n\n    // Hex colour value\n    this._hex = '000000';\n\n    // Check args\n    if (args.length === 0) {\n    }\n    else if (args.length === 1) {\n      this.hex = args[0];\n    }\n    else if (args.length === 4 && args[3] === 'rgb') {\n      this.rgb = args;\n    }\n    else if (args.length === 4 && args[3] === 'hsl') {\n      this.hsl = args;\n    }\n    else if (args.length === 3\n        && this.is_rgb(args[0])\n        && this.is_rgb(args[1])\n        && this.is_rgb(args[2])) {\n      this.rgb = args;\n    }\n    else if (args.length === 3\n        && this.is_hue(args[0])\n        && this.is_saturation(args[1])\n        && this.is_luminosity(args[0])) {\n      this.hsl = args;\n    }\n    else {\n      TypeError('Unable to determine colour type');\n    }\n  }\n\n  /**\n   * Get HSL value array\n   */\n  get hsl() {\n    return [this.hue, this.saturation, this.luminosity];\n  }\n\n  /**\n   * Set value from HSL\n   */\n  set hsl(value) {\n    const h = value[0];\n    const s = value[1];\n    const l = value[2];\n\n    // Check hue\n    if (h >= 0 && h <= 360) {\n      this._h = h;\n    }\n    else {\n      RangeError('HSL hue value out of range');\n    }\n\n    // Check saturation\n    if (s >= 0 && s <= 1) {\n      this._s = s;\n    }\n    else {\n      RangeError('HSL saturation value out of range');\n    }\n\n    // Check luminosity\n    if (l >= 0 && l <= 1) {\n      this._l = l;\n    }\n    else {\n      RangeError('HSL luminosity value out of range');\n    }\n\n    // Set RGB from HSL\n    let r;\n    let g;\n    let b;\n\n    if (s === 0) {\n      this._r = this._g = this._b = 255 * l;\n    }\n    else {\n      function hue2rgb(p, q, t) {\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1/6) return p + (q - p) * 6 * t;\n        if (t < 1/2) return q;\n        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n      }\n\n    }\n\n  }\n\n  /**\n   * Get HSL hue value\n   */\n  get hue() {\n    return this._h;\n  }\n\n  /**\n   * Set HSL hue value\n   */\n  set hue(h) {\n    this.hsl = [h, this._s, this._l];\n  }\n\n  /**\n   * Get HSL saturation value\n   */\n  get saturation() {\n    return this._s;\n  }\n\n  /**\n   * Set HSL saturation value\n   */\n  set saturation(s) {\n    this.hsl = [this._h, s, this._l];\n  }\n\n  /**\n   * Get HSL luminosity value\n   */\n  get luminosity() {\n    return this._l;\n  }\n\n  /**\n   * Set HSL luminosity value\n   */\n  set luminosity(l) {\n    this.hsl = [this._h, this._s, l];\n  }\n\n  /**\n   * Get RGB value array\n   */\n  get rgb() {\n    return [this.red, this.green, this.blue];\n  }\n\n  /**\n   * Set value from RGB\n   */\n  set rgb(value) {\n    const r = value[0];\n    const g = value[1];\n    const b = value[2];\n\n    // Check red\n    if (r === parseInt(r) && r <= 0 && r <= 255) {\n      this._r = r;\n    }\n    else {\n      RangeError('RGB red value out of range');\n    }\n\n    // Check green\n    if (g === parseInt(g) && g <= 0 && g <= 255) {\n      this._g = g;\n    }\n    else {\n      RangeError('RGB green value out of range');\n    }\n\n    // Check blue\n    if (b === parseInt(b) && b <= 0 && b <= 255) {\n      this._b = b;\n    }\n    else {\n      RangeError('RGB blue value out of range');\n    }\n\n    // Set HSL from RGB\n  }\n\n  /**\n   * Get RGB red value\n   */\n  get red() {\n    return this._r;\n  }\n\n  /**\n   * Set RGB red value\n   */\n  set red(r) {\n    this.rgb = [r, this._g, this._b];\n  }\n\n  /**\n   * Get RGB green value\n   */\n  get green() {\n    return this._g;\n  }\n\n  /**\n   * Set RGB green value\n   */\n  set green(g) {\n    this.rgb = [this._r, g, this._b];\n  }\n\n  /**\n   * Get RGB blue value\n   */\n  get blue() {\n    return this._b;\n  }\n\n  /**\n   * Set RGB blue value\n   */\n  set blue(b) {\n    this.rgb = [this._r, this._g, b];\n  }\n\n  /**\n   * Get HTML hex value\n   */\n  get hex() {\n\n  }\n\n  /**\n   * Set value from HTML hex\n   */\n  set hex(value) {\n\n  }\n\n}","/*\n * jQuery plugin for unified mouse and touch events\n *\n * Copyright (c) 2013-2016 Michael S. Mikowski\n * (mike[dot]mikowski[at]gmail[dotcom])\n *\n * Dual licensed under the MIT or GPL Version 2\n * http://jquery.org/license\n *\n * Versions\n *  1.3.x   - Removed all console references\n *          - Change bind to on, unbind to off\n *          - Reinstated ignore_select to ignore text and input areas by default\n *  1.2.x   - ignore_class => ignore_select, now defaults to ''\n *  1.1.9   - Fixed ue-test.html demo to scale properly\n *  1.1.8   - Removed prevent default from non-ue events\n *  1.1.7   - Corrected desktop zoom motion description\n *  1.1.0-5 - No code changes. Updated npm keywords. Fixed typos.\n *            Bumped version to represent maturity and stability.\n *  0.6.1   - Change px_radius from 5 to 10 pixels\n *  0.6.0   - Added px_tdelta_x and px_tdelta_y for deltas from start\n *          - Fixed onheld and drag conflicts\n *  0.5.0   - Updated docs, removed cruft, updated for jslint,\n *            updated test page (zoom)\n *  0.4.3   - Removed fatal execption possibility if originalEvent\n *            is not defined on event object\n *  0.4.2   - Updated documentation\n *  0.3.2   - Updated to jQuery 1.9.1.\n *            Confirmed 1.7.0-1.9.1 compatibility.\n *  0.3.1   - Change for jQuery plugins site\n *  0.3.0   - Initial jQuery plugin site release\n *          - Replaced scrollwheel zoom with drag motion.\n *            This resolved a conflict with scrollable areas.\n *\n*/\n\n/*jslint           browser : true,   continue : true,\n  devel  : true,    indent : 2,       maxerr  : 50,\n  newcap : true,  plusplus : true,    regexp  : true,\n  sloppy : true,      vars : false,     white  : true\n*/\n/*global jQuery */\n\n(function ( $ ) {\n  //---------------- BEGIN MODULE SCOPE VARIABLES --------------\n  var\n    $Special  = $.event.special,  // Shortcut for special event\n    motionMapMap    = {},         // Map of pointer motions by cursor\n    isMoveBound     = false,      // Flag if move handlers bound\n    pxPinchZoom     = -1,         // Distance between pinch-zoom points\n    optionKey       = 'ue_bound', // Data key for storing options\n    doDisableMouse  = false,      // Flag to discard mouse input\n    defaultOptMap   = {           // Default option map\n      bound_ns_map  : {},         // Map of bound namespaces e.g.\n                                  // bound_ns_map.utap.fred\n      px_radius     : 10,         // Tolerated distance before dragstart\n      ignore_select : 'textarea, select, input', // Elements to ignore\n      max_tap_ms    : 200,        // Maximum time allowed for tap\n      min_held_ms   : 300         // Minimum time require for long-press\n    },\n\n    callbackList  = [],           // global callback stack\n    zoomMouseNum  = 1,            // multiplier for mouse zoom\n    zoomTouchNum  = 4,            // multiplier for touch zoom\n\n    boundList, Ue,\n    motionDragId,  motionHeldId, motionDzoomId,\n    motion1ZoomId, motion2ZoomId,\n\n    checkMatchVal, removeListVal,  pushUniqVal,   makeListPlus,\n    fnHeld,        fnMotionStart,  fnMotionMove,\n    fnMotionEnd,   onMouse,        onTouch\n    ;\n  //----------------- END MODULE SCOPE VARIABLES ---------------\n\n  //------------------- BEGIN UTILITY METHODS ------------------\n  // Begin utiltity /makeListPlus/\n  // Returns an array with much desired methods:\n  //   * remove_val(value) : remove element that matches\n  //     the provided value. Returns number of elements\n  //     removed.\n  //   * match_val(value)  : shows if a value exists\n  //   * push_uniq(value)  : pushes a value onto the stack\n  //     iff it does not already exist there\n  // Note: the reason I need this is to compare objects to\n  //   objects (perhaps jQuery has something similar?)\n  checkMatchVal = function ( data ) {\n    var match_count = 0, idx;\n    for ( idx = this.length; idx; 0 ) {\n      if ( this[--idx] === data ) { match_count++; }\n    }\n    return match_count;\n  };\n  removeListVal = function ( data ) {\n    var removed_count = 0, idx;\n    for ( idx = this.length; idx; 0 ) {\n      if ( this[--idx] === data ) {\n        this.splice(idx, 1);\n        removed_count++;\n        idx++;\n      }\n    }\n    return removed_count;\n  };\n  pushUniqVal = function ( data ) {\n    if ( checkMatchVal.call(this, data ) ) { return false; }\n    this.push( data );\n    return true;\n  };\n  // primary utility\n  makeListPlus = function ( input_list ) {\n    if ( input_list && $.isArray(input_list) ) {\n      if ( input_list.remove_val ) {\n        // The array appears to already have listPlus capabilities\n        return input_list;\n      }\n    }\n    else {\n      input_list = [];\n    }\n    input_list.remove_val = removeListVal;\n    input_list.match_val  = checkMatchVal;\n    input_list.push_uniq  = pushUniqVal;\n\n    return input_list;\n  };\n  // End utility /makeListPlus/\n  //-------------------- END UTILITY METHODS -------------------\n\n  //--------------- BEGIN JQUERY SPECIAL EVENTS ----------------\n  // Unique array for bound objects\n  boundList = makeListPlus();\n\n  // Begin define special event handlers\n  /*jslint unparam:true */\n  Ue = {\n    setup : function( data, name_list, bind_fn ) {\n      var\n        this_el     = this,\n        $to_bind    = $(this_el),\n        seen_map    = {},\n        option_map, idx, namespace_key, ue_namespace_code, namespace_list\n        ;\n\n      // if previous related event bound do not rebind, but do add to\n      // type of event bound to this element, if not already noted\n      if ( $.data( this, optionKey ) ) { return; }\n\n      option_map = {};\n      $.extend( true, option_map, defaultOptMap );\n      $.data( this_el, optionKey, option_map );\n\n      namespace_list = makeListPlus(name_list.slice(0));\n      if ( ! namespace_list.length\n        || namespace_list[0] === \"\"\n      ) { namespace_list = [\"000\"]; }\n\n      NSPACE_00:\n      for ( idx = 0; idx < namespace_list.length; idx++ ) {\n        namespace_key = namespace_list[idx];\n\n        if ( ! namespace_key ) { continue NSPACE_00; }\n        if ( seen_map.hasOwnProperty(namespace_key) ) { continue NSPACE_00; }\n\n        seen_map[namespace_key] = true;\n\n        ue_namespace_code = '.__ue' + namespace_key;\n\n        $to_bind.on( 'mousedown'  + ue_namespace_code, onMouse  );\n        $to_bind.on( 'touchstart' + ue_namespace_code, onTouch );\n      }\n\n      boundList.push_uniq( this_el ); // record as bound element\n\n      if ( ! isMoveBound ) {\n        // first element bound - adding global binds\n        $(document).on( 'mousemove.__ue'   , onMouse );\n        $(document).on( 'touchmove.__ue'   , onTouch );\n        $(document).on( 'mouseup.__ue'     , onMouse );\n        $(document).on( 'touchend.__ue'    , onTouch );\n        $(document).on( 'touchcancel.__ue' , onTouch );\n        isMoveBound = true;\n      }\n    },\n\n    // arg_map.type = string - name of event to bind\n    // arg_map.data = poly - whatever (optional) data was passed when binding\n    // arg_map.namespace = string - A sorted, dot-delimited list of namespaces\n    //   specified when binding the event\n    // arg_map.handler  = fn - the event handler the developer wishes to be bound\n    //   to the event.  This function should be called whenever the event\n    //   is triggered\n    // arg_map.guid = number - unique ID for event handler, provided by jQuery\n    // arg_map.selector = string - selector used by 'delegate' or 'live' jQuery\n    //   methods.  Only available when these methods are used.\n    //\n    // this - the element to which the event handler is being bound\n    // this always executes immediate after setup (if first binding)\n    add : function ( arg_map ) {\n      var\n        this_el         = this,\n        option_map      = $.data( this_el, optionKey ),\n        namespace_str   = arg_map.namespace,\n        event_type      = arg_map.type,\n        bound_ns_map, namespace_list, idx, namespace_key\n        ;\n      if ( ! option_map ) { return; }\n\n      bound_ns_map  = option_map.bound_ns_map;\n\n      if ( ! bound_ns_map[event_type] ) {\n        // this indicates a non-namespaced entry\n        bound_ns_map[event_type] = {};\n      }\n\n      if ( ! namespace_str ) { return; }\n\n      namespace_list = namespace_str.split('.');\n\n      for ( idx = 0; idx < namespace_list.length; idx++ ) {\n        namespace_key = namespace_list[idx];\n        bound_ns_map[event_type][namespace_key] = true;\n      }\n    },\n\n    remove : function ( arg_map ) {\n      var\n        elem_bound     = this,\n        option_map     = $.data( elem_bound, optionKey ),\n        bound_ns_map   = option_map.bound_ns_map,\n        event_type     = arg_map.type,\n        namespace_str  = arg_map.namespace,\n        namespace_list, idx, namespace_key\n        ;\n\n      if ( ! bound_ns_map[event_type] ) { return; }\n\n      // No namespace(s) provided:\n      // Remove complete record for custom event type (e.g. utap)\n      if ( ! namespace_str ) {\n        delete bound_ns_map[event_type];\n        return;\n      }\n\n      // Namespace(s) provided:\n      // Remove namespace flags from each custom event typei (e.g. utap)\n      // record.  If all claimed namespaces are removed, remove\n      // complete record.\n      namespace_list = namespace_str.split('.');\n\n      for ( idx = 0; idx < namespace_list.length; idx++ ) {\n        namespace_key = namespace_list[idx];\n        if (bound_ns_map[event_type][namespace_key]) {\n          delete bound_ns_map[event_type][namespace_key];\n        }\n      }\n\n      if ( $.isEmptyObject( bound_ns_map[event_type] ) ) {\n        delete bound_ns_map[event_type];\n      }\n    },\n\n    teardown : function( name_list ) {\n      var\n        elem_bound   = this,\n        $bound       = $(elem_bound),\n        option_map   = $.data( elem_bound, optionKey ),\n        bound_ns_map = option_map.bound_ns_map,\n        idx, namespace_key, ue_namespace_code, namespace_list\n        ;\n\n      // do not tear down if related handlers are still bound\n      if ( ! $.isEmptyObject( bound_ns_map ) ) { return; }\n\n      namespace_list = makeListPlus(name_list);\n      namespace_list.push_uniq('000');\n\n      NSPACE_01:\n      for ( idx = 0; idx < namespace_list.length; idx++ ) {\n        namespace_key = namespace_list[idx];\n\n        if ( ! namespace_key ) { continue NSPACE_01; }\n\n        ue_namespace_code = '.__ue' + namespace_key;\n        $bound.off( 'mousedown'  + ue_namespace_code );\n        $bound.off( 'touchstart' + ue_namespace_code );\n        $bound.off( 'mousewheel' + ue_namespace_code );\n      }\n\n      $.removeData( elem_bound, optionKey );\n\n      // Unbind document events only after last element element is removed\n      boundList.remove_val(this);\n      if ( boundList.length === 0 ) {\n        // last bound element removed - removing global binds\n        $(document).off( 'mousemove.__ue');\n        $(document).off( 'touchmove.__ue');\n        $(document).off( 'mouseup.__ue');\n        $(document).off( 'touchend.__ue');\n        $(document).off( 'touchcancel.__ue');\n        isMoveBound = false;\n      }\n    }\n  };\n  /*jslint unparam:false */\n  // End define special event handlers\n  //--------------- BEGIN JQUERY SPECIAL EVENTS ----------------\n\n  //------------------ BEGIN MOTION CONTROLS -------------------\n  // Begin motion control /fnHeld/\n  fnHeld = function ( arg_map ) {\n    var\n      timestamp    = +new Date(),\n      motion_id    = arg_map.motion_id,\n      motion_map   = arg_map.motion_map,\n      bound_ns_map = arg_map.bound_ns_map,\n      event_ue\n      ;\n\n    delete motion_map.tapheld_toid;\n\n    if ( ! motion_map.do_allow_held ) { return; }\n\n    motion_map.px_end_x     = motion_map.px_start_x;\n    motion_map.px_end_y     = motion_map.px_start_y;\n    motion_map.ms_timestop  = timestamp;\n    motion_map.ms_elapsed   = timestamp - motion_map.ms_timestart;\n\n    if ( bound_ns_map.uheld ) {\n      event_ue = $.Event('uheld');\n      $.extend( event_ue, motion_map );\n      $(motion_map.elem_bound).trigger(event_ue);\n    }\n\n    // remove tracking, as we want no futher action on this motion\n    if ( bound_ns_map.uheldstart ) {\n      event_ue     = $.Event('uheldstart');\n      $.extend( event_ue, motion_map );\n      $(motion_map.elem_bound).trigger(event_ue);\n      motionHeldId = motion_id;\n    }\n    else {\n      delete motionMapMap[motion_id];\n    }\n  };\n  // End motion control /fnHeld/\n\n\n  // Begin motion control /fnMotionStart/\n  fnMotionStart = function ( arg_map ) {\n    var\n      motion_id      = arg_map.motion_id,\n      event_src      = arg_map.event_src,\n      request_dzoom  = arg_map.request_dzoom,\n\n      option_map     = $.data( arg_map.elem, optionKey ),\n      bound_ns_map   = option_map.bound_ns_map,\n      $target        = $(event_src.target ),\n      do_zoomstart   = false,\n      motion_map, cb_map, event_ue\n      ;\n\n    // this should never happen, but it does\n    if ( motionMapMap[ motion_id ] ) { return; }\n\n    // ignore on zoom\n    if ( request_dzoom && ! bound_ns_map.uzoomstart ) { return; }\n\n    // :input selector includes text areas\n    if ( $target.is( option_map.ignore_select ) ) { return; }\n\n    // Prevent default only after confirming handling this event\n    event_src.preventDefault();\n\n    cb_map = callbackList.pop();\n    while ( cb_map ) {\n      if ( $target.is( cb_map.selector_str )\n        || $( arg_map.elem ).is( cb_map.selector_str )\n      ) {\n        if ( cb_map.callback_match ) {\n          cb_map.callback_match( arg_map );\n        }\n      }\n      else {\n        if ( cb_map.callback_nomatch ) {\n          cb_map.callback_nomatch( arg_map );\n        }\n      }\n      cb_map = callbackList.pop();\n    }\n\n    motion_map = {\n      do_allow_tap  : bound_ns_map.utap ? true : false,\n      do_allow_held : ( bound_ns_map.uheld || bound_ns_map.uheldstart )\n        ? true : false,\n      elem_bound    : arg_map.elem,\n      elem_target   : event_src.target,\n      ms_elapsed    : 0,\n      ms_timestart  : event_src.timeStamp,\n      ms_timestop   : undefined,\n      option_map    : option_map,\n      orig_target   : event_src.target,\n      px_current_x  : event_src.clientX,\n      px_current_y  : event_src.clientY,\n      px_end_x      : undefined,\n      px_end_y      : undefined,\n      px_start_x    : event_src.clientX,\n      px_start_y    : event_src.clientY,\n      timeStamp     : event_src.timeStamp\n    };\n\n    motionMapMap[ motion_id ] = motion_map;\n\n    if ( bound_ns_map.uzoomstart ) {\n      if ( request_dzoom ) {\n        motionDzoomId = motion_id;\n      }\n      else if ( ! motion1ZoomId ) {\n        motion1ZoomId = motion_id;\n      }\n      else if ( ! motion2ZoomId ) {\n        motion2ZoomId = motion_id;\n        event_ue = $.Event('uzoomstart');\n        do_zoomstart = true;\n      }\n\n      if ( do_zoomstart ) {\n        event_ue = $.Event( 'uzoomstart' );\n        motion_map.px_delta_zoom = 0;\n        $.extend( event_ue, motion_map );\n        $(motion_map.elem_bound).trigger(event_ue);\n        return;\n      }\n    }\n\n    if ( bound_ns_map.uheld || bound_ns_map.uheldstart ) {\n      motion_map.tapheld_toid = setTimeout(\n        function() {\n          fnHeld({\n            motion_id    : motion_id,\n            motion_map   : motion_map,\n            bound_ns_map : bound_ns_map\n          });\n        },\n        option_map.min_held_ms\n      );\n    }\n  };\n  // End motion control /fnMotionStart/\n\n  // Begin motion control /fnMotionMove/\n  fnMotionMove  = function ( arg_map ) {\n    var\n      motion_id   = arg_map.motion_id,\n      event_src   = arg_map.event_src,\n      do_zoommove = false,\n\n      motion_map,    option_map,  bound_ns_map,\n      is_over_rad,   event_ue,    px_pinch_zoom,\n      px_delta_zoom, mzoom1_map,  mzoom2_map\n      ;\n\n    if ( ! motionMapMap[ motion_id ] ) { return; }\n\n    // Prevent default only after confirming handling this event\n    event_src.preventDefault();\n\n    motion_map   = motionMapMap[motion_id];\n    option_map   = motion_map.option_map;\n    bound_ns_map = option_map.bound_ns_map;\n\n    motion_map.timeStamp    = event_src.timeStamp;\n    motion_map.elem_target  = event_src.target;\n    motion_map.ms_elapsed   = event_src.timeStamp - motion_map.ms_timestart;\n\n    motion_map.px_delta_x   = event_src.clientX - motion_map.px_current_x;\n    motion_map.px_delta_y   = event_src.clientY - motion_map.px_current_y;\n\n    motion_map.px_current_x = event_src.clientX;\n    motion_map.px_current_y = event_src.clientY;\n\n    motion_map.px_tdelta_x  = motion_map.px_start_x - event_src.clientX;\n    motion_map.px_tdelta_y  = motion_map.px_start_y - event_src.clientY;\n\n    is_over_rad = (\n      Math.abs( motion_map.px_tdelta_x ) > option_map.px_radius\n      || Math.abs( motion_map.px_tdelta_y ) > option_map.px_radius\n    );\n    // native event object override\n    motion_map.timeStamp    = event_src.timeStamp;\n\n    // disallow held or tap if outside of zone\n    if ( is_over_rad ) {\n      motion_map.do_allow_tap  = false;\n      motion_map.do_allow_held = false;\n    }\n\n    // disallow tap if time has elapsed \n    if ( motion_map.ms_elapsed > option_map.max_tap_ms ) {\n      motion_map.do_allow_tap = false;\n    }\n\n    if ( motion1ZoomId && motion2ZoomId\n      && ( motion_id === motion1ZoomId\n        || motion_id === motion2ZoomId\n    )) {\n      motionMapMap[motion_id] = motion_map;\n      mzoom1_map = motionMapMap[motion1ZoomId];\n      mzoom2_map = motionMapMap[motion2ZoomId];\n\n      px_pinch_zoom = Math.floor(\n        Math.sqrt(\n            Math.pow((mzoom1_map.px_current_x - mzoom2_map.px_current_x),2)\n          + Math.pow((mzoom1_map.px_current_y - mzoom2_map.px_current_y),2)\n        ) +0.5\n      );\n\n      if ( pxPinchZoom === -1 ) { px_delta_zoom = 0; }\n      else { px_delta_zoom = ( px_pinch_zoom - pxPinchZoom ) * zoomTouchNum;}\n\n      // save value for next iteration delta comparison\n      pxPinchZoom  = px_pinch_zoom;\n      do_zoommove  = true;\n    }\n    else if ( motionDzoomId === motion_id ) {\n      if ( bound_ns_map.uzoommove ) {\n        px_delta_zoom = motion_map.px_delta_y * zoomMouseNum;\n        do_zoommove = true;\n      }\n    }\n\n    if ( do_zoommove ){\n      event_ue = $.Event('uzoommove');\n      motion_map.px_delta_zoom = px_delta_zoom;\n      $.extend( event_ue, motion_map );\n      $(motion_map.elem_bound).trigger(event_ue);\n      return;\n    }\n\n    if ( motionHeldId === motion_id ) {\n      if ( bound_ns_map.uheldmove ) {\n        event_ue = $.Event('uheldmove');\n        $.extend( event_ue, motion_map );\n        $(motion_map.elem_bound).trigger(event_ue);\n      }\n      return;\n    }\n\n    if ( motionDragId === motion_id ) {\n      if ( bound_ns_map.udragmove ) {\n        event_ue = $.Event('udragmove');\n        $.extend( event_ue, motion_map );\n        $(motion_map.elem_bound).trigger(event_ue);\n      }\n      return;\n    }\n\n    if ( bound_ns_map.udragstart\n      && motion_map.do_allow_tap  === false\n      && motion_map.do_allow_held === false\n      && !( motionDragId && motionHeldId )\n    ) {\n      motionDragId = motion_id;\n      event_ue = $.Event('udragstart');\n      $.extend( event_ue, motion_map );\n      $(motion_map.elem_bound).trigger(event_ue);\n\n      if ( motion_map.tapheld_toid ) {\n        clearTimeout(motion_map.tapheld_toid);\n        delete motion_map.tapheld_toid;\n      }\n    }\n  };\n  // End motion control /fnMotionMove/\n\n  // Begin motion control /fnMotionEnd/\n  fnMotionEnd   = function ( arg_map ) {\n    var\n      motion_id    = arg_map.motion_id,\n      event_src    = arg_map.event_src,\n      do_zoomend   = false,\n      motion_map, option_map, bound_ns_map, event_ue\n      ;\n\n    doDisableMouse = false;\n\n    if ( ! motionMapMap[motion_id] ) { return; }\n\n    motion_map   = motionMapMap[motion_id];\n    option_map   = motion_map.option_map;\n    bound_ns_map = option_map.bound_ns_map;\n\n    motion_map.elem_target  = event_src.target;\n    motion_map.ms_elapsed   = event_src.timeStamp - motion_map.ms_timestart;\n    motion_map.ms_timestop  = event_src.timeStamp;\n\n    if ( motion_map.px_current_x ) {\n      motion_map.px_delta_x   = event_src.clientX - motion_map.px_current_x;\n      motion_map.px_delta_y   = event_src.clientY - motion_map.px_current_y;\n    }\n\n    motion_map.px_current_x = event_src.clientX;\n    motion_map.px_current_y = event_src.clientY;\n\n    motion_map.px_end_x     = event_src.clientX;\n    motion_map.px_end_y     = event_src.clientY;\n\n    motion_map.px_tdelta_x  = motion_map.px_start_x - motion_map.px_end_x;\n    motion_map.px_tdelta_y  = motion_map.px_start_y - motion_map.px_end_y;\n\n    // native event object override\n    motion_map.timeStamp    = event_src.timeStamp\n    ;\n\n    // clear-out any long-hold tap timer\n    if ( motion_map.tapheld_toid ) {\n      clearTimeout(motion_map.tapheld_toid);\n      delete motion_map.tapheld_toid;\n    }\n\n    // trigger utap\n    if ( bound_ns_map.utap\n      && motion_map.ms_elapsed <= option_map.max_tap_ms\n      && motion_map.do_allow_tap\n    ) {\n      event_ue = $.Event('utap');\n      $.extend( event_ue, motion_map );\n      $(motion_map.elem_bound).trigger(event_ue);\n    }\n\n    // trigger udragend\n    if ( motion_id === motionDragId ) {\n      if ( bound_ns_map.udragend ) {\n        event_ue = $.Event('udragend');\n        $.extend( event_ue, motion_map );\n        $(motion_map.elem_bound).trigger(event_ue);\n      }\n      motionDragId = undefined;\n    }\n\n    // trigger heldend\n    if ( motion_id === motionHeldId ) {\n      if ( bound_ns_map.uheldend ) {\n        event_ue = $.Event('uheldend');\n        $.extend( event_ue, motion_map );\n        $(motion_map.elem_bound).trigger(event_ue);\n      }\n      motionHeldId = undefined;\n    }\n\n    // trigger uzoomend\n    if ( motion_id === motionDzoomId ) {\n      do_zoomend = true;\n      motionDzoomId = undefined;\n    }\n\n    // cleanup zoom info\n    else if ( motion_id === motion1ZoomId ) {\n      if ( motion2ZoomId ) {\n        motion1ZoomId = motion2ZoomId;\n        motion2ZoomId = undefined;\n        do_zoomend = true;\n      }\n      else { motion1ZoomId = undefined; }\n      pxPinchZoom  = -1;\n    }\n    if ( motion_id === motion2ZoomId ) {\n      motion2ZoomId = undefined;\n      pxPinchZoom  = -1;\n      do_zoomend   = true;\n    }\n\n    if ( do_zoomend && bound_ns_map.uzoomend ) {\n      event_ue = $.Event('uzoomend');\n      motion_map.px_delta_zoom = 0;\n      $.extend( event_ue, motion_map );\n      $(motion_map.elem_bound).trigger(event_ue);\n    }\n    // remove pointer from consideration\n    delete motionMapMap[motion_id];\n  };\n  // End motion control /fnMotionEnd/\n  //------------------ END MOTION CONTROLS -------------------\n\n //------------------- BEGIN EVENT HANDLERS -------------------\n  // Begin event handler /onTouch/ for all touch events.\n  // We use the 'type' attribute to dispatch to motion control\n  onTouch = function ( event ) {\n    var\n      this_el     = this,\n      timestamp   = +new Date(),\n      o_event     = event.originalEvent,\n      touch_list  = o_event ? o_event.changedTouches || [] : [],\n      touch_count = touch_list.length,\n      idx, touch_event, motion_id, handler_fn\n      ;\n\n    doDisableMouse = true;\n\n    event.timeStamp = timestamp;\n\n    switch ( event.type ) {\n      case 'touchstart' : handler_fn = fnMotionStart; break;\n      case 'touchmove'  : handler_fn = fnMotionMove;  break;\n      case 'touchend'    :\n      case 'touchcancel' : handler_fn = fnMotionEnd;   break;\n      default : handler_fn = null;\n    }\n\n    if ( ! handler_fn ) { return; }\n\n    for ( idx = 0; idx < touch_count; idx++ ) {\n      touch_event  = touch_list[idx];\n\n      motion_id = 'touch' + String(touch_event.identifier);\n\n      event.clientX   = touch_event.clientX;\n      event.clientY   = touch_event.clientY;\n      handler_fn({\n        elem      : this_el,\n        motion_id : motion_id,\n        event_src : event\n      });\n    }\n  };\n  // End event handler /onTouch/\n\n\n  // Begin event handler /onMouse/ for all mouse events\n  // We use the 'type' attribute to dispatch to motion control\n  onMouse = function ( event ) {\n    var\n      this_el       = this,\n      motion_id     = 'mouse' + String(event.button),\n      request_dzoom = false,\n      handler_fn\n      ;\n\n    if ( doDisableMouse ) {\n      event.stopImmediatePropagation();\n      return;\n    }\n\n    if ( event.shiftKey ) { request_dzoom  =  true; }\n\n    // skip left or middle clicks\n    if ( event.type !== 'mousemove' ) {\n      if ( event.button !== 0 ) { return true; }\n    }\n\n    switch ( event.type ) {\n      case 'mousedown' : handler_fn = fnMotionStart; break;\n      case 'mouseup'   : handler_fn = fnMotionEnd;   break;\n      case 'mousemove' : handler_fn = fnMotionMove;  break;\n      default          : handler_fn = null;\n    }\n\n    if ( ! handler_fn ) { return; }\n\n    handler_fn({\n      elem          : this_el,\n      event_src     : event,\n      request_dzoom : request_dzoom,\n      motion_id     : motion_id\n    });\n  };\n  // End event handler /onMouse/\n  //-------------------- END EVENT HANDLERS --------------------\n\n  // Export special events through jQuery API\n  $Special.ue\n    = $Special.utap       = $Special.uheld\n    = $Special.uzoomstart = $Special.uzoommove = $Special.uzoomend\n    = $Special.udragstart = $Special.udragmove = $Special.udragend\n    = $Special.uheldstart = $Special.uheldmove = $Special.uheldend\n    = Ue\n    ;\n  $.ueSetGlobalCb = function ( selector_str, callback_match, callback_nomatch ) {\n    callbackList.push( {\n      selector_str     : selector_str     || '',\n      callback_match   : callback_match   || null,\n      callback_nomatch : callback_nomatch || null\n    });\n  };\n}(jQuery));\n","/*\n * jQuery udraggable plugin v0.3.0\n * Copyright (c) 2013-2014 Grant McLean (grant@mclean.net.nz)\n *\n * Homepage: https://github.com/grantm/jquery-udraggable\n *\n * Dual licensed under the MIT and GPL (v2.0 or later) licenses:\n *   http://opensource.org/licenses/MIT\n *   http://opensource.org/licenses/GPL-2.0\n *\n * This library requires Michael S. Mikowski's unified mouse and touch\n * event plugin: https://github.com/mmikowski/jquery.event.ue\n *\n */\n\n(function($) {\n    \"use strict\";\n\n    var floor = Math.floor;\n    var min   = Math.min;\n    var max   = Math.max;\n\n    window.requestAnimationFrame = window.requestAnimationFrame || function(work) {\n        return setTimeout(work, 10);\n    };\n\n    window.cancelAnimationFrame = window.cancelAnimationFrame || function(id) {\n        return clearTimeout(id);\n    };\n\n\n    // Constructor function\n\n    var UDraggable = function (el, options) {\n        var that = this;\n        this.el  = el;\n        this.$el = $(el);\n        this.options = $.extend({}, $.fn.udraggable.defaults, options);\n        this.positionElement  = this.options.positionElement  || this.positionElement;\n        this.getStartPosition = this.options.getStartPosition || this.getStartPosition;\n        this.normalisePosition = this.options.normalisePosition || this.normalisePosition;\n        this.updatePositionFrameHandler = function() {\n            delete that.queuedUpdate;\n            var pos = that.ui.position;\n            that.positionElement(that.$el, that.started, pos.left, pos.top);\n            if (that.options.dragUpdate) {\n                that.options.dragUpdate.apply(that.el, [that.ui]);\n            }\n        };\n        this.queuePositionUpdate = function() {\n            if (!that.queuedUpdate) {\n                that.queuedUpdate = window.requestAnimationFrame(that.updatePositionFrameHandler);\n            }\n        };\n        this.init();\n    };\n\n    UDraggable.prototype = {\n\n        constructor: UDraggable,\n\n        init: function() {\n            var that = this;\n            this.disabled = false;\n            this.started = false;\n            this.normalisePosition();\n            var $target = this.options.handle ?\n                          this.$el.find( this.options.handle ) :\n                          this.$el;\n            if (this.options.longPress) {\n                $target\n                    .on('uheldstart.udraggable', function(e) { that.start(e); })\n                    .on('uheldmove.udraggable',  function(e) { that.move(e);  })\n                    .on('uheldend.udraggable',   function(e) { that.end(e);   });\n            }\n            else {\n                $target\n                    .on('udragstart.udraggable', function(e) { that.start(e); })\n                    .on('udragmove.udraggable',  function(e) { that.move(e);  })\n                    .on('udragend.udraggable',   function(e) { that.end(e);   });\n            }\n        },\n\n        destroy: function() {\n            var $target = this.options.handle ?\n                          this.$el.find( this.options.handle ) :\n                          this.$el;\n            $target.off('.udraggable');\n            this.$el.removeData('udraggable');\n        },\n\n        disable: function() {\n            this.disabled = true;\n        },\n\n        enable: function() {\n            this.disabled = false;\n        },\n\n        option: function() {\n            var name;\n            if (arguments.length === 0) {\n                return this.options;\n            }\n            if (arguments.length === 2) {\n                this.options[ arguments[0] ] = arguments[1];\n                return;\n            }\n            if (arguments.length === 1) {\n                if (typeof arguments[0] === 'string') {\n                    return this.options[ arguments[0] ];\n                }\n                if (typeof arguments[0] === 'object') {\n                    for(name in arguments[0]) {\n                        if (arguments[0].hasOwnProperty(name)) {\n                            this.options[name] = arguments[0][name];\n                        }\n                    }\n                }\n            }\n            if (this.options.containment) {\n                this._initContainment();\n            }\n        },\n\n        normalisePosition: function() {\n            var pos = this.$el.position();\n            this.$el.css({\n                position: 'absolute',\n                top: pos.top,\n                left: pos.left,\n                right: 'auto',\n                bottom: 'auto'\n            });\n        },\n\n        start: function(e) {\n            if (this.disabled) {\n                return;\n            }\n            var start = this.getStartPosition(this.$el);\n            this._initContainment();\n            this.ui = {\n                helper:           this.$el,\n                offset:           { top: start.y, left: start.x},\n                originalPosition: { top: start.y, left: start.x},\n                position:         { top: start.y, left: start.x},\n            };\n            if (this.options.longPress) {\n                this._start(e);\n            }\n            return this._stopPropagation(e);\n        },\n\n        move: function(e) {\n            if (this.disabled || (!this.started && !this._start(e))) {\n                return;\n            }\n            var delta_x = e.px_current_x - e.px_start_x;\n            var delta_y = e.px_current_y - e.px_start_y;\n            var axis = this.options.axis;\n            if (axis  &&  axis === \"x\") {\n                delta_y = 0;\n            }\n            if (axis  &&  axis === \"y\") {\n                delta_x = 0;\n            }\n            var cur = {\n                left: this.ui.originalPosition.left,\n                top:  this.ui.originalPosition.top\n            };\n            if (!axis  ||  (axis === \"x\")) {\n                cur.left += delta_x;\n            }\n            if (!axis  ||  (axis === \"y\")) {\n                cur.top += delta_y;\n            }\n            this._applyGrid(cur);\n            this._applyContainment(cur);\n            var pos = this.ui.position;\n            if ((cur.top !== pos.top)  ||  (cur.left !== pos.left)) {\n                this.ui.position.left = cur.left;\n                this.ui.position.top  = cur.top;\n                this.ui.offset.left   = cur.left;\n                this.ui.offset.top    = cur.top;\n                if (this.options.drag) {\n                    this.options.drag.apply(this.el, [e, this.ui]);\n                }\n                this.queuePositionUpdate();\n            }\n            return this._stopPropagation(e);\n        },\n\n        end: function(e) {\n            if (this.started || this._start(e)) {\n                this.$el.removeClass(\"udraggable-dragging\");\n                this.started = false;\n                if (this.queuedUpdate) {\n                    window.cancelAnimationFrame(this.queuedUpdate);\n                }\n                this.updatePositionFrameHandler();\n                if (this.options.stop) {\n                    this.options.stop.apply(this.el, [e, this.ui]);\n                }\n            }\n            return this._stopPropagation(e);\n        },\n\n        // helper methods\n\n        _stopPropagation: function(e) {\n            e.stopPropagation();\n            e.preventDefault();\n            return false;\n        },\n\n        _start: function(e) {\n            if (!this._mouseDistanceMet(e) || !this._mouseDelayMet(e)) {\n                return;\n            }\n            this.started = true;\n            this.queuePositionUpdate();\n            if (this.options.start) {\n                this.options.start.apply(this.el, [e, this.ui]);\n            }\n            this.$el.addClass(\"udraggable-dragging\");\n            return true;\n        },\n\n        _mouseDistanceMet: function(e) {\n            return max(\n                Math.abs(e.px_start_x - e.px_current_x),\n                Math.abs(e.px_start_y - e.px_current_y)\n            ) >= this.options.distance;\n        },\n\n        _mouseDelayMet: function(e) {\n            return e.ms_elapsed > this.options.delay;\n        },\n\n        _initContainment: function() {\n            var o = this.options;\n            var $c, ce;\n\n            if (!o.containment) {\n                this.containment = null;\n                return;\n            }\n\n            if (o.containment.constructor === Array) {\n                this.containment = o.containment;\n                return;\n            }\n\n            if (o.containment === \"parent\") {\n                o.containment = this.$el.offsetParent();\n            }\n\n            $c = $( o.containment );\n            ce = $c[ 0 ];\n            if (!ce) {\n                return;\n            }\n\n            this.containment = [\n                0,\n                0,\n                $c.innerWidth() - this.$el.outerWidth(),\n                $c.innerHeight() - this.$el.outerHeight(),\n            ];\n        },\n\n        _applyGrid: function(cur) {\n            if (this.options.grid) {\n                var gx = this.options.grid[0];\n                var gy = this.options.grid[1];\n                cur.left = floor( (cur.left + gx / 2) / gx ) * gx;\n                cur.top  = floor( (cur.top  + gy / 2) / gy ) * gy;\n            }\n        },\n\n        _applyContainment: function(cur) {\n            var cont = this.containment;\n            if (cont) {\n                cur.left = min( max(cur.left, cont[0]), cont[2] );\n                cur.top  = min( max(cur.top,  cont[1]), cont[3] );\n            }\n        },\n\n        getStartPosition: function($el) {\n            return {\n                x: parseInt($el.css('left'), 10) || 0,\n                y: parseInt($el.css('top'),  10) || 0\n            };\n        },\n\n        positionElement: function($el, dragging, left, top) {\n            $el.css({ left: left, top: top });\n        }\n\n    };\n\n\n    // jQuery plugin function\n\n    $.fn.udraggable = function(option) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        var results = [];\n        this.each(function () {\n            var $this = $(this);\n            var data = $this.data('udraggable');\n            if (!data) {\n                data = new UDraggable(this, option);\n                $this.data('udraggable', data);\n            }\n            if (typeof option === 'string') {  // option is a method - call it\n                if(typeof data[option] !== 'function') {\n                    throw \"jquery.udraggable has no '\" + option + \"' method\";\n                }\n                var result = data[option].apply(data, args);\n                if (result !== undefined) {\n                    results.push( result );\n                }\n            }\n        });\n        return results.length > 0 ? results[0] : this;\n    };\n\n    $.fn.udraggable.defaults = {\n         axis:        null,\n         delay:       0,\n         distance:    0,\n         longPress:   false,\n         // callbacks\n         drag:        null,\n         start:       null,\n         stop:        null\n    };\n\n\n})(jQuery);\n\n","/**\n * Display W3C Named colours\n */\n\nif ($('#named-colours').length > 0) {\n  $(function() {\n\n    var c, colour, row, cell, text, i;\n    var table = $('table');\n    var properties = [\n      'name',\n      'hex',\n      'rgb.r',\n      'rgb.g',\n      'rgb.b',\n      'temperature',\n      'hsl.h',\n      'hsl.s',\n      'hsl.l',\n      'hsv.h',\n      'hsv.s',\n      'hsv.v',\n      'cmyk.c',\n      'cmyk.m',\n      'cmyk.y',\n      'cmyk.k'\n\n    ];\n\n    // Get sort\n    var sort = 'name';\n    if (window.location.hash) {\n      sort = window.location.hash.replace('#', '');\n      if (properties.indexOf(sort) == -1) {\n        sort = 'name';\n      }\n    }\n\n    // Initialise and sort colour array\n    var colours = [];\n    for (c in chroma.colors) {\n      colours.push(chroma(c));\n    }\n    colours.sort(function(a, b) {\n      if (a.get(sort) > b.get(sort)) {\n        return 1;\n      }\n      if (a.get(sort) < b.get(sort)) {\n        return -1;\n      }\n      return 0;\n    });\n\n    for (c in colours) {\n      colour = colours[c];\n      row = $('<tr/>').appendTo(table.find('tbody:last'));\n      row.addClass('colour-table__row');\n\n      cell = $('<td/>').text(' ');\n      cell.addClass('colour-table__colour');\n      cell.css('background-color', colour.name());\n      row.append(cell);\n\n      for (i in properties) {\n        text = colour.get(properties[i]);\n        if (typeof text == 'number' && properties[i] != 'temperature') {\n          text = text.toPrecision(3);\n        }\n        cell = $('<td/>').text(text);\n        cell.addClass('colour-table__' + properties[i]);\n        row.append(cell);\n      }\n    }\n  });\n}\n\n"]}